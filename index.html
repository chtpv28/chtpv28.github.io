<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–∞ —Å–µ–ø—Å–∏—Å–∞ –≤ –∞–∫—É—à–µ—Ä—Å—Ç–≤–µ</title>
    <meta name="description" content="–û–Ω–ª–∞–π–Ω-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–∞ —Å–µ–ø—Å–∏—Å–∞ —É –±–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ä–æ–¥–∏–ª—å–Ω–∏—Ü">
    <meta name="theme-color" content="#2196F3">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü©∫</text></svg>">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2196F3;
            --primary-dark: #1976D2;
            --danger: #f44336;
            --warning: #ff9800;
            --success: #4CAF50;
            --gray: #f5f5f5;
            --border: #ddd;
            --text: #333;
            --card-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            overflow: hidden;
        }

        header {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
            padding: 24px 32px;
            text-align: center;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .subtitle {
            opacity: 0.9;
            font-size: 16px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            padding: 24px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .input-section, .results-section {
            background: var(--gray);
            border-radius: 12px;
            padding: 24px;
        }

        h2 {
            color: var(--primary-dark);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
            font-size: 22px;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 16px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        label {
            margin-bottom: 6px;
            font-weight: 500;
            font-size: 14px;
            color: #555;
        }

        input, select {
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
            background: white;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        .critical {
            border-color: var(--danger) !important;
            background-color: rgba(244, 67, 54, 0.05);
        }

        .warning {
            border-color: var(--warning) !important;
            background-color: rgba(255, 152, 0, 0.05);
        }

        .normal {
            border-color: var(--success) !important;
        }

        .unit {
            font-size: 12px;
            color: #777;
            margin-top: 4px;
        }

        .scale-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .scale-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            border-top: 4px solid var(--primary);
            transition: transform 0.3s;
        }

        .scale-card:hover {
            transform: translateY(-4px);
        }

        .scale-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .scale-name {
            font-weight: 600;
            font-size: 18px;
            color: var(--primary-dark);
        }

        .score-container {
            text-align: right;
        }

        .score {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary);
            line-height: 1;
        }

        .params-count {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }

        .risk-indicator {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-top: 8px;
        }

        .low-risk {
            background-color: rgba(76, 175, 80, 0.2);
            color: var(--success);
        }

        .high-risk {
            background-color: rgba(244, 67, 54, 0.2);
            color: var(--danger);
        }

        .medium-risk {
            background-color: rgba(255, 152, 0, 0.2);
            color: var(--warning);
        }

        .interpretation {
            margin-top: 12px;
            font-size: 14px;
            line-height: 1.5;
            color: #555;
        }

        .pwa-banner {
            background: var(--primary);
            color: white;
            padding: 12px 24px;
            text-align: center;
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .pwa-banner button {
            background: white;
            color: var(--primary);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            margin-left: 12px;
            cursor: pointer;
            font-weight: 600;
        }

        footer {
            text-align: center;
            padding: 20px;
            font-size: 14px;
            color: #666;
            border-top: 1px solid var(--border);
        }

        .reset-btn {
            background: var(--warning);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-top: 20px;
            width: 100%;
            transition: background 0.3s;
        }

        .reset-btn:hover {
            background: #e68900;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ—Ü–µ–Ω–∫–∏ —Å–µ–ø—Å–∏—Å–∞ –≤ –∞–∫—É—à–µ—Ä—Å—Ç–≤–µ</h1>
            <p class="subtitle">–ï–¥–∏–Ω—ã–π –≤–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç SIRS, qSOFA, omqSOFA, MOEWS, SOS –∏ –∏–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π</p>
        </header>

        <div class="main-content">
            <section class="input-section">
                <h2>–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ü–∏–µ–Ω—Ç–∞</h2>
                <div class="input-grid" id="inputFields">
                    <!-- –ü–æ–ª—è –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã JavaScript -->
                </div>
                <button class="reset-btn" onclick="resetAll()">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è</button>
            </section>

            <section class="results-section">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–∞</h2>
                <div class="scale-cards" id="scaleCards">
                    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —à–∫–∞–ª –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã JavaScript -->
                </div>
            </section>
        </div>

        <footer>
            <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–∏—Å–∫–∞ —Å–µ–ø—Å–∏—Å–∞ —É –±–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ä–æ–¥–∏–ª—å–Ω–∏—Ü. –í—Å–µ —Ä–∞—Å—á—ë—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.</p>
            <p>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ –∏ –æ—á–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞.</p>
        </footer>
    </div>

    <div class="pwa-banner" id="pwaBanner">
        –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
        <button onclick="installPWA()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
        <button onclick="dismissBanner()">–ü–æ–∑–∂–µ</button>
    </div>

    <script>
        // –ü–æ–ª—è –≤–≤–æ–¥–∞
        const parameters = [
            { id: 'temp',    label: '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–µ–ª–∞',     unit: '¬∞C',        type: 'number', step: '0.1', min: '20', max: '45' },
            { id: 'hr',      label: '–ß–°–°',                  unit: '—É–¥/–º–∏–Ω',    type: 'number', min: '0',  max: '300' },
            { id: 'rr',      label: '–ß–î',                   unit: '/–º–∏–Ω',      type: 'number', min: '0',  max: '100' },
            { id: 'sbp',     label: '–ê–î —Å–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ',     unit: '–º–º —Ä—Ç.—Å—Ç.', type: 'number', min: '0',  max: '300' },
            { id: 'dbp',     label: '–ê–î –¥–∏–∞—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ',    unit: '–º–º —Ä—Ç.—Å—Ç.', type: 'number', min: '0',  max: '200' },
            { id: 'spo2',    label: 'SpO‚ÇÇ',                 unit: '%',         type: 'number', min: '0',  max: '100' },
            { id: 'wbc',     label: '–õ–µ–π–∫–æ—Ü–∏—Ç—ã',            unit: '√ó10‚Åπ/–ª',    type: 'number', step: '0.1', min: '0', max: '100' },
            { id: 'bands',   label: '–Æ–Ω—ã–µ –Ω–µ–π—Ç—Ä–æ—Ñ–∏–ª—ã',      unit: '%',         type: 'number', min: '0',  max: '100' },
            { id: 'lactate', label: '–õ–∞–∫—Ç–∞—Ç',               unit: '–º–º–æ–ª—å/–ª',   type: 'number', step: '0.1', min: '0', max: '20' },
            { id: 'gcs',     label: '–®–ö–ì (GCS)',            unit: '–±–∞–ª–ª',      type: 'number', min: '3',  max: '15' },
            {
                id: 'mental',
                label: '–ú–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å',
                type: 'select',
                options: [
                    { value: 'alert',     label: 'Alert (–≤ —Å–æ–∑–Ω–∞–Ω–∏–∏)' },
                    { value: 'not_alert', label: 'Not Alert (–Ω–∞—Ä—É—à–µ–Ω–æ)' }
                ]
            },
            {
                id: 'o2_therapy',
                label: '–ö–∏—Å–ª–æ—Ä–æ–¥–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
                type: 'select',
                options: [
                    { value: 'air',   label: '–ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–π –≤–æ–∑–¥—É—Ö' },
                    { value: 'nasal', label: '–ù–æ—Å–æ–≤–æ–π –∫–∞—Ç–µ—Ç–µ—Ä' },
                    { value: 'mask',  label: '–ú–∞—Å–∫–∞ –∏–ª–∏ –±–æ–ª—å—à–µ' }
                ]
            },
            {
                id: 'pph',
                label: '–¢—è–∂—ë–ª–æ–µ –ü–ü–ö/—Ä–∏—Å–∫ –°–°–ó',
                type: 'select',
                options: [
                    { value: 'no',  label: '–ù–µ—Ç' },
                    { value: 'yes', label: '–î–∞' }
                ]
            }
        ];

        // –®–∫–∞–ª—ã
        const scales = [
            { id: 'sirs',   name: 'SIRS',   maxScore: 4,  totalParams: 4,  calculate: calculateSIRS },
            { id: 'qsofa',  name: 'qSOFA',  maxScore: 3,  totalParams: 3,  calculate: calculateQSOFA },
            { id: 'omqsofa',name: 'omqSOFA',maxScore: 3,  totalParams: 3,  calculate: calculateOmqSOFA },
            { id: 'moews',  name: 'MOEWS',  maxScore: 24, totalParams: 9,  calculate: calculateMOEWS },
            { id: 'sos',    name: 'SOS',    maxScore: 24, totalParams: 8,  calculate: calculateSOS },

            // –ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
            { id: 'flag',      name: '–§–ª–∞–≥ –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∏—Å–∫–∞',     maxScore: 1,   totalParams: 0, calculate: calculateHighRiskFlag },
            { id: 'sumscore',  name: '–°—É–º–º–∞—Ä–Ω—ã–π –±–∞–ª–ª',          maxScore: 58,  totalParams: 0, calculate: calculateSumScore },
            { id: 'weighted',  name: '–í–∑–≤–µ—à–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å',   maxScore: 100, totalParams: 0, calculate: calculateWeightedScore }
        ];

        let deferredPrompt;
        const pwaBanner = document.getElementById('pwaBanner');

        document.addEventListener('DOMContentLoaded', function() {
            generateInputFields();
            generateScaleCards();
            loadSavedData();
            updateAllCalculations();
            setupPWA();
        });

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
        function generateInputFields() {
            const container = document.getElementById('inputFields');
            parameters.forEach(param => {
                const div = document.createElement('div');
                div.className = 'input-group';

                const label = document.createElement('label');
                label.textContent = param.label;
                label.htmlFor = param.id;
                div.appendChild(label);

                if (param.type === 'select') {
                    const select = document.createElement('select');
                    select.id = param.id;
                    param.options.forEach(opt => {
                        const option = document.createElement('option');
                        option.value = opt.value;
                        option.textContent = opt.label;
                        select.appendChild(option);
                    });
                    select.addEventListener('change', updateAllCalculations);
                    div.appendChild(select);
                } else {
                    const input = document.createElement('input');
                    input.type = param.type;
                    input.id = param.id;
                    input.step = param.step || '1';
                    input.min = param.min || '0';
                    if (param.max) input.max = param.max;
                    input.addEventListener('input', updateAllCalculations);
                    div.appendChild(input);
                }

                if (param.unit) {
                    const unit = document.createElement('div');
                    unit.className = 'unit';
                    unit.textContent = param.unit;
                    div.appendChild(unit);
                }

                container.appendChild(div);
            });
        }

        // –ö–∞—Ä—Ç–æ—á–∫–∏ —à–∫–∞–ª
        function generateScaleCards() {
            const container = document.getElementById('scaleCards');
            scales.forEach(scale => {
                const card = document.createElement('div');
                card.className = 'scale-card';
                card.id = `card-${scale.id}`;

                card.innerHTML = `
                    <div class="scale-header">
                        <div class="scale-name">${scale.name}</div>
                        <div class="score-container">
                            <div class="score" id="score-${scale.id}">0</div>
                            <div class="params-count" id="params-${scale.id}">0/${scale.totalParams}</div>
                        </div>
                    </div>
                    <div class="risk-indicator" id="risk-${scale.id}">–ù–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ</div>
                    <div class="interpretation" id="interpretation-${scale.id}">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞</div>
                `;
                container.appendChild(card);
            });
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π
        function getInputValues() {
            const values = {};
            parameters.forEach(param => {
                const element = document.getElementById(param.id);
                if (!element) return;
                if (param.type === 'select') {
                    values[param.id] = element.value;
                } else {
                    const val = parseFloat(element.value);
                    values[param.id] = isNaN(val) ? null : val;
                }
            });
            return values;
        }

        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø–æ–ª–µ–π
        function updateInputStyles(values) {
            parameters.forEach(param => {
                if (param.type === 'number') {
                    const element = document.getElementById(param.id);
                    const value = values[param.id];
                    element.classList.remove('critical', 'warning', 'normal');

                    if (value !== null) {
                        if (param.id === 'temp') {
                            if (value > 38.5 || value < 36) element.classList.add('critical');
                            else if (value > 37.5 || value < 36.5) element.classList.add('warning');
                            else element.classList.add('normal');
                        } else if (param.id === 'hr') {
                            if (value > 130 || value < 50) element.classList.add('critical');
                            else if (value > 100 || value < 60) element.classList.add('warning');
                            else element.classList.add('normal');
                        } else if (param.id === 'sbp') {
                            if (value < 90 || value > 160) element.classList.add('critical');
                            else if (value < 100 || value > 140) element.classList.add('warning');
                            else element.classList.add('normal');
                        } else if (param.id === 'rr') {
                            if (value > 25 || value < 10) element.classList.add('critical');
                            else if (value > 20 || value < 12) element.classList.add('warning');
                            else element.classList.add('normal');
                        }
                    }
                }
            });
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
        function updateScaleCard(scaleId, result) {
            document.getElementById(`score-${scaleId}`).textContent = result.score;
            document.getElementById(`params-${scaleId}`).textContent =
                `${result.usedParams}/${result.totalParams}`;

            const riskElement = document.getElementById(`risk-${scaleId}`);
            riskElement.textContent = result.risk;
            riskElement.className = 'risk-indicator ' + result.riskClass;

            document.getElementById(`interpretation-${scaleId}`).textContent = result.interpretation;
        }

        // –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —É–∂–µ –ø–æ—Å—á–∏—Ç–∞–Ω–Ω–æ–≥–æ –±–∞–ª–ª–∞ —à–∫–∞–ª—ã
        function getScaleScore(id) {
            const el = document.getElementById(`score-${id}`);
            if (!el) return 0;
            const v = parseFloat(el.textContent);
            return isNaN(v) ? 0 : v;
        }

        // –û—Å–Ω–æ–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        function updateAllCalculations() {
            const values = getInputValues();
            updateInputStyles(values);

            // —Å–Ω–∞—á–∞–ª–∞ –±–∞–∑–æ–≤—ã–µ —à–∫–∞–ª—ã
            const baseIds = ['sirs','qsofa','omqsofa','moews','sos'];
            baseIds.forEach(id => {
                const scale = scales.find(s => s.id === id);
                if (!scale) return;
                const result = scale.calculate(values);
                updateScaleCard(scale.id, result);
            });

            // –∑–∞—Ç–µ–º –∏–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ã–µ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–∂–µ –ø–æ—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –±–∞–ª–ª—ã)
            const derivedIds = ['flag','sumscore','weighted'];
            derivedIds.forEach(id => {
                const scale = scales.find(s => s.id === id);
                if (!scale) return;
                const result = scale.calculate(values);
                updateScaleCard(scale.id, result);
            });

            saveData();
        }

        // –†–∞—Å—á—ë—Ç SIRS
        function calculateSIRS(values) {
            let score = 0;
            let usedParams = 0;

            if (values.temp !== null) {
                usedParams++;
                if (values.temp > 38 || values.temp < 36) score++;
            }
            if (values.hr !== null) {
                usedParams++;
                if (values.hr > 90) score++;
            }
            if (values.rr !== null) {
                usedParams++;
                if (values.rr > 20) score++;
            }
            if (values.wbc !== null) {
                usedParams++;
                if (values.wbc > 12 || values.wbc < 4) score++;
            }

            const risk = score >= 2 ? '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫' : '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
            const riskClass = score >= 2 ? 'high-risk' : 'low-risk';
            const interpretation = score >= 2
                ? '–ü–∞—Ü–∏–µ–Ω—Ç–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏—è–º SIRS, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —É–≥–ª—É–±–ª—ë–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞ —Å–µ–ø—Å–∏—Å.'
                : '–ö—Ä–∏—Ç–µ—Ä–∏–∏ SIRS –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã, –æ–¥–Ω–∞–∫–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –¥–∏–Ω–∞–º–∏–∫–∞.';

            return { score, usedParams, totalParams: 4, risk, riskClass, interpretation };
        }

        // omqSOFA
        function calculateOmqSOFA(values) {
            let score = 0;
            let usedParams = 0;

            if (values.sbp !== null) {
                usedParams++;
                if (values.sbp < 90) score++;
            }
            if (values.rr !== null) {
                usedParams++;
                if (values.rr > 25) score++;
            }
            if (values.mental) {
                usedParams++;
                if (values.mental === 'not_alert') score++;
            }

            const risk = score >= 2 ? '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫' : '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
            const riskClass = score >= 2 ? 'high-risk' : 'low-risk';
            const interpretation = score >= 2
                ? 'omqSOFA ‚â•2: –ø–æ–∫–∞–∑–∞–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –≤ —É—Å–ª–æ–≤–∏—è—Ö –û–†–ò–¢ –∏ –ø–æ–∏—Å–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–Ω—Ñ–µ–∫—Ü–∏–∏.'
                : 'omqSOFA <2: —Ä–∏—Å–∫ —Ç—è–∂—ë–ª–æ–≥–æ —Ç–µ—á–µ–Ω–∏—è —É–º–µ—Ä–µ–Ω–Ω—ã–π, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.';

            return { score, usedParams, totalParams: 3, risk, riskClass, interpretation };
        }

        // MOEWS
        function calculateMOEWS(values) {
            let score = 0;
            let usedParams = 0;

            // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
            if (values.temp !== null) {
                usedParams++;
                if (values.temp >= 39 || values.temp <= 35) score += 3;
                else if (values.temp >= 38.1 && values.temp <= 38.9) score += 2;
                else if ((values.temp >= 35.1 && values.temp <= 35.9) ||
                         (values.temp >= 37.5 && values.temp <= 38)) score += 1;
            }

            // –ß–î
            if (values.rr !== null) {
                usedParams++;
                if (values.rr >= 30 || values.rr < 10) score += 3;
                else if (values.rr >= 21 && values.rr <= 29) score += 2;
                else if (values.rr >= 10 && values.rr <= 11) score += 1;
            }

            // SpO2
            if (values.spo2 !== null) {
                usedParams++;
                if (values.spo2 <= 90) score += 3;
                else if (values.spo2 >= 91 && values.spo2 <= 93) score += 2;
                else if (values.spo2 >= 94 && values.spo2 <= 95) score += 1;
            }

            // –ö–∏—Å–ª–æ—Ä–æ–¥–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è
            if (values.o2_therapy) {
                usedParams++;
                if (values.o2_therapy === 'mask') score += 3;
                else if (values.o2_therapy === 'nasal') score += 2;
            }

            // –ß–°–°
            if (values.hr !== null) {
                usedParams++;
                if (values.hr < 50 || values.hr >= 130) score += 3;
                else if ((values.hr >= 50 && values.hr <= 59) ||
                         (values.hr >= 110 && values.hr <= 129)) score += 2;
                else if (values.hr >= 100 && values.hr <= 109) score += 1;
            }

            // –ê–î —Å–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ
            if (values.sbp !== null) {
                usedParams++;
                if (values.sbp < 90 || values.sbp >= 160) score += 3;
                else if (values.sbp >= 150 && values.sbp <= 159) score += 2;
                else if ((values.sbp >= 90 && values.sbp <= 99) ||
                         (values.sbp >= 140 && values.sbp <= 149)) score += 1;
            }

            // –ê–î –¥–∏–∞—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ
            if (values.dbp !== null) {
                usedParams++;
                if (values.dbp >= 110) score += 3;
                else if (values.dbp >= 100 && values.dbp <= 109) score += 2;
                else if (values.dbp <= 45 ||
                         (values.dbp >= 90 && values.dbp <= 99)) score += 1;
            }

            // –ú–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
            if (values.mental) {
                usedParams++;
                if (values.mental === 'not_alert') score += 3;
            }

            // –ü–ü–ö/—Ä–∏—Å–∫ –°–°–ó
            if (values.pph) {
                usedParams++;
                if (values.pph === 'yes') score += 3;
            }

            let risk, riskClass, interpretation;
            if (score <= 2) {
                risk = '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
                riskClass = 'low-risk';
                interpretation = 'MOEWS –≤ –∑–µ–ª—ë–Ω–æ–π –∑–æ–Ω–µ; –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É.';
            } else if (score <= 4) {
                risk = '–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫';
                riskClass = 'medium-risk';
                interpretation = 'MOEWS –≤ –∂—ë–ª—Ç–æ–π –∑–æ–Ω–µ; —É—Å–∏–ª–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –∞–Ω–µ—Å—Ç–µ–∑–∏–æ–ª–æ–≥–∞-—Ä–µ–∞–Ω–∏–º–∞—Ç–æ–ª–æ–≥–∞.';
            } else {
                risk = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
                riskClass = 'high-risk';
                interpretation = 'MOEWS –≤ –∫—Ä–∞—Å–Ω–æ–π –∑–æ–Ω–µ; –ø–æ–∫–∞–∑–∞–Ω–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤ —É—Å–ª–æ–≤–∏—è—Ö –û–†–ò–¢.';
            }

            return { score, usedParams, totalParams: 9, risk, riskClass, interpretation };
        }

        // SOS
        function calculateSOS(values) {
            let score = 0;
            let usedParams = 0;

            // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
            if (values.temp !== null) {
                usedParams++;
                if (values.temp > 40.9 || values.temp < 30) score += 4;
                else if ((values.temp >= 39 && values.temp <= 40.9) ||
                         (values.temp >= 30 && values.temp <= 31.9)) score += 3;
                else if (values.temp >= 32 && values.temp <= 33.9) score += 2;
                else if ((values.temp >= 38.5 && values.temp <= 38.9) ||
                         (values.temp >= 34 && values.temp <= 35.9)) score += 1;
            }

            // –ß–°–°
            if (values.hr !== null) {
                usedParams++;
                if (values.hr > 179) score += 4;
                else if (values.hr >= 150 && values.hr <= 179) score += 3;
                else if (values.hr >= 130 && values.hr <= 149) score += 2;
                else if (values.hr >= 120 && values.hr <= 129) score += 1;
            }

            // –ß–î
            if (values.rr !== null) {
                usedParams++;
                if (values.rr > 49 || values.rr <= 5) score += 4;
                else if (values.rr >= 35 && values.rr <= 49) score += 3;
                else if (values.rr >= 6 && values.rr <= 9) score += 2;
                else if ((values.rr >= 25 && values.rr <= 34) ||
                         (values.rr >= 10 && values.rr <= 11)) score += 1;
            }

            // –ê–î —Å–∏—Å—Ç–æ–ª–∏—á–µ—Å–∫–æ–µ
            if (values.sbp !== null) {
                usedParams++;
                if (values.sbp < 70) score += 4;
                else if (values.sbp >= 70 && values.sbp <= 90) score += 2;
            }

            // SpO2
            if (values.spo2 !== null) {
                usedParams++;
                if (values.spo2 < 85) score += 4;
                else if (values.spo2 >= 85 && values.spo2 <= 89) score += 3;
                else if (values.spo2 >= 90 && values.spo2 <= 91) score += 1;
            }

            // –õ–µ–π–∫–æ—Ü–∏—Ç—ã
            if (values.wbc !== null) {
                usedParams++;
                if (values.wbc > 39.9 || values.wbc < 1) score += 4;
                else if ((values.wbc >= 25 && values.wbc <= 39.9) ||
                         (values.wbc >= 1 && values.wbc <= 2.9)) score += 2;
                else if ((values.wbc >= 17 && values.wbc <= 24.9) ||
                         (values.wbc >= 3 && values.wbc <= 5.6)) score += 1;
            }

            // –Æ–Ω—ã–µ –Ω–µ–π—Ç—Ä–æ—Ñ–∏–ª—ã
            if (values.bands !== null) {
                usedParams++;
                if (values.bands >= 10) score += 2;
            }

            // –õ–∞–∫—Ç–∞—Ç
            if (values.lactate !== null) {
                usedParams++;
                if (values.lactate >= 4) score += 2;
            }

            const risk = score >= 6 ? '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫' : '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
            const riskClass = score >= 6 ? 'high-risk' : 'low-risk';
            const interpretation = score >= 6
                ? 'SOS ‚â•6: –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ —Ç—è–∂—ë–ª–æ–≥–æ —Ç–µ—á–µ–Ω–∏—è, –ø–æ–∫–∞–∑–∞–Ω–∞ –≥–æ—Å–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è –≤ –û–†–ò–¢.'
                : 'SOS <6: —Ä–∏—Å–∫ —Ç—è–∂—ë–ª–æ–≥–æ —Ç–µ—á–µ–Ω–∏—è –Ω–∏–∂–µ, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º –∫–ª–∏–Ω–∏–∫–æ-–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å.';

            return { score, usedParams, totalParams: 8, risk, riskClass, interpretation };
        }

        // qSOFA
        function calculateQSOFA(values) {
            let score = 0;
            let usedParams = 0;

            if (values.sbp !== null) {
                usedParams++;
                if (values.sbp < 100) score++;
            }
            if (values.rr !== null) {
                usedParams++;
                if (values.rr > 22) score++;
            }
            if (values.gcs !== null) {
                usedParams++;
                if (values.gcs < 13) score++;
            }

            const risk = score >= 2 ? '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫' : '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
            const riskClass = score >= 2 ? 'high-risk' : 'low-risk';
            const interpretation = score >= 2
                ? 'qSOFA ‚â•2: –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –Ω–µ–±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å—Ö–æ–¥–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —ç—Å–∫–∞–ª–∞—Ü–∏—è –ø–æ–º–æ—â–∏.'
                : 'qSOFA <2: —Ä–∏—Å–∫ —Ç—è–∂—ë–ª–æ–≥–æ —Ç–µ—á–µ–Ω–∏—è –Ω–∏–∂–µ, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–∏ —É—Ö—É–¥—à–µ–Ω–∏–∏.';

            return { score, usedParams, totalParams: 3, risk, riskClass, interpretation };
        }

        // 1) –ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–ª–∞–≥ –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∏—Å–∫–∞
        function calculateHighRiskFlag(values) {
            const sirs    = getScaleScore('sirs');
            const qsofa   = getScaleScore('qsofa');
            const omqsofa = getScaleScore('omqsofa');
            const moews   = getScaleScore('moews');
            const sos     = getScaleScore('sos');

            const high =
                (qsofa   >= 2) ||
                (omqsofa >= 2) ||
                (sirs    >= 2) ||
                (moews   >= 4) ||
                (sos     >= 6);

            const score = high ? 1 : 0;

            const risk       = high ? '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫' : '–ù–∏–∑–∫–∏–π/—É–º–µ—Ä–µ–Ω–Ω—ã–π —Ä–∏—Å–∫';
            const riskClass  = high ? 'high-risk' : 'low-risk';
            const interpretation = high
                ? '–°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —Ñ–ª–∞–≥–∞ –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∏—Å–∫–∞: –ø–æ–∫–∞–∑–∞–Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å–µ–ø—Å–∏—Å–∞ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Ä–µ–∞–Ω–∏–º–∞—Ç–æ–ª–æ–≥–∞.'
                : '–§–ª–∞–≥ –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∏—Å–∫–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª; —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –Ω–∞—Å—Ç–æ—Ä–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –∏ –æ—Ü–µ–Ω–∏–≤–∞–π—Ç–µ –¥–∏–Ω–∞–º–∏–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è.';

            return {
                score,
                usedParams: 0,
                totalParams: 0,
                risk,
                riskClass,
                interpretation
            };
        }

        // 2) –°—É–º–º–∞—Ä–Ω—ã–π –±–∞–ª–ª: SIRS + qSOFA + SOS + MOEWS
        function calculateSumScore(values) {
            const sirs  = getScaleScore('sirs');
            const qsofa = getScaleScore('qsofa');
            const sos   = getScaleScore('sos');
            const moews = getScaleScore('moews');

            const score = sirs + qsofa + sos + moews;

            let risk, riskClass, interpretation;
            if (score < 8) {
                risk          = '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
                riskClass     = 'low-risk';
                interpretation = '–ù–∏–∑–∫–∞—è —Å—É–º–º–∞—Ä–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –ø–æ —à–∫–∞–ª–∞–º; –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è —Å –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ—Ü–µ–Ω–∫–æ–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è.';
            } else if (score < 16) {
                risk          = '–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫';
                riskClass     = 'medium-risk';
                interpretation = '–£–º–µ—Ä–µ–Ω–Ω–æ–µ —Å—É–º–º–∞—Ä–Ω–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ; —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω —É—Å–∏–ª–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Ä–∞–Ω–Ω–µ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ —Ç–∞–∫—Ç–∏–∫–∏ —Å —Ä–µ–∞–Ω–∏–º–∞—Ç–æ–ª–æ–≥–æ–º.';
            } else {
                risk          = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
                riskClass     = 'high-risk';
                interpretation = '–í—ã—Ä–∞–∂–µ–Ω–Ω–æ–µ —Å—É–º–º–∞—Ä–Ω–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ; –ø–æ–∫–∞–∑–∞–Ω–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤ –û–†–ò–¢ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å–µ–ø—Å–∏—Å–∞.';
            }

            return {
                score,
                usedParams: 0,
                totalParams: 0,
                risk,
                riskClass,
                interpretation
            };
        }

        // 3) –í–∑–≤–µ—à–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å
        // qSOFA*4 + SOS*3 + SIRS*2 + MOEWS*2 + omqSOFA*1
        function calculateWeightedScore(values) {
            const sirs    = getScaleScore('sirs');
            const qsofa   = getScaleScore('qsofa');
            const omqsofa = getScaleScore('omqsofa');
            const moews   = getScaleScore('moews');
            const sos     = getScaleScore('sos');

            const score = qsofa * 4 + sos * 3 + sirs * 2 + moews * 2 + omqsofa * 1;

            let risk, riskClass, interpretation;
            if (score < 10) {
                risk          = '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
                riskClass     = 'low-risk';
                interpretation = '–í–∑–≤–µ—à–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∏–∑–∫–∏–π; –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–µ–ø—Å–∏—Å–∞ –∏ —Ç—è–∂—ë–ª–æ–≥–æ —Ç–µ—á–µ–Ω–∏—è –Ω–µ–≤—ã—Å–æ–∫–∏, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å.';
            } else if (score <= 15.5) {
                risk          = '–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫';
                riskClass     = 'medium-risk';
                interpretation = '–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è; —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω —É—Å–∏–ª–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, —Ä–∞–Ω–Ω–∏–π –∑–∞–±–æ—Ä –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤ –∏ –Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –¥–ª—è —ç—Å–∫–∞–ª–∞—Ü–∏–∏ —Ç–µ—Ä–∞–ø–∏–∏.';
            } else {
                risk          = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
                riskClass     = 'high-risk';
                interpretation = '–í–∑–≤–µ—à–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–µ–≤—ã—à–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥; –ø–æ–∫–∞–∑–∞–Ω–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å–µ–ø—Å–∏—Å–∞ –∏ –æ—Ü–µ–Ω–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –≤ –û–†–ò–¢.';
            }

            return {
                score,
                usedParams: 0,
                totalParams: 0,
                risk,
                riskClass,
                interpretation
            };
        }

        // –°–±—Ä–æ—Å
        function resetAll() {
            parameters.forEach(param => {
                const element = document.getElementById(param.id);
                if (!element) return;
                if (param.type === 'select') {
                    element.value = param.options[0].value;
                } else {
                    element.value = '';
                    element.classList.remove('critical', 'warning', 'normal');
                }
            });
            updateAllCalculations();
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ / –∑–∞–≥—Ä—É–∑–∫–∞
        function saveData() {
            const values = getInputValues();
            localStorage.setItem('sepsis_calculator_data', JSON.stringify(values));
        }

        function loadSavedData() {
            const saved = localStorage.getItem('sepsis_calculator_data');
            if (!saved) return;
            const values = JSON.parse(saved);
            parameters.forEach(param => {
                const element = document.getElementById(param.id);
                if (!element) return;
                if (values[param.id] !== undefined) {
                    if (param.type === 'select') {
                        element.value = values[param.id];
                    } else {
                        element.value = values[param.id];
                    }
                }
            });
        }

        window.addEventListener('beforeunload', saveData);

        // PWA
        function setupPWA() {
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                setTimeout(() => {
                    pwaBanner.style.display = 'block';
                }, 3000);
            });

            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
            }

            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/sw.js').catch(error => {
                    console.log('Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å:', error);
                });
            }
        }

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    deferredPrompt = null;
                    pwaBanner.style.display = 'none';
                });
            }
        }

        function dismissBanner() {
            pwaBanner.style.display = 'none';
        }
    </script>
</body>
</html>
